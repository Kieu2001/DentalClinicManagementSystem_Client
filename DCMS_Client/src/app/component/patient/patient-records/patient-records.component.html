
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Agbalumo&display=swap" rel="stylesheet">
<div class="web-wrapper">
  <div class="container-custom">
    <!-- Sidebar Section -->
    <aside>

      <div class="sidebar">
        <div class="toggle">
          <div class="logo">
            <img
              src="https://fiverr-res.cloudinary.com/images/t_main1,q_auto,f_auto,q_auto,f_auto/gigs/163864132/original/92c0b38c480b786aa8ee12c771b842986302bbed/design-unique-dental-medical-health-hospital-and-clinic-logo.png">
            <p><span class="danger">Nguyen Tran</span> Clinic</p>
          </div>
          <div class="close" id="close-btn">
            <span class="material-icons-sharp">
              close
            </span>
          </div>
        </div>
        <a routerLink="/letan/lich-hen">
          <span class="material-icons-sharp">
            dashboard
          </span>
          <h3>Lịch hẹn</h3>
        </a>
        <a routerLink="/letan/phong-cho">
          <span class="material-icons-sharp">
            person_outline
          </span>
          <h3>Phòng chờ</h3>
        </a>
        <a routerLink="/benhnhan/danhsach" class="active">
          <span class="material-icons-sharp">
            receipt_long
          </span>
          <h3>Bệnh nhân</h3>
        </a>
        <a routerLink="/letan/cham-cong">
          <span class="material-icons-sharp">
            insights
          </span>
          <h3>Chấm công</h3>
        </a>
        <a (click)="signOut()" style="cursor:pointer;">
          <span class="material-icons-sharp">
            logout
          </span>
          <h3>Logout</h3>
        </a>
      </div>
    </aside>
    <!-- End of Sidebar Section -->

    <!-- Main Content -->
    <main>
      <!-- Analyses -->
      <!-- Analyses -->
      <div class="analyse">
        <div class="sales">
          <div class="status">
            <div class="info">
              <h3>Lịch hẹn</h3>
              <h1 class="text-center">02</h1>
            </div>
            <div class="progresss">
              <svg>
                <circle cx="38" cy="38" r="36"></circle>
              </svg>
              <div class="percentage">
                <i class="bi bi-calendar3"></i>
              </div>
            </div>
          </div>
        </div>
        <div class="visits">
          <div class="status">
            <div class="info">
              <h3>Phòng chờ</h3>
              <h1 class="text-center">24</h1>
            </div>
            <div class="progresss">
              <svg>
                <circle cx="38" cy="38" r="36"></circle>
              </svg>
              <div class="percentage">
                <i class="bi bi-houses"></i>
              </div>
            </div>
          </div>
        </div>
        <div class="searches">
          <div class="status">
            <div class="info">
              <h3>Bệnh nhân</h3>
              <h1 class="text-center">23</h1>
            </div>
            <div class="progresss">
              <svg>
                <circle cx="38" cy="38" r="36"></circle>
              </svg>
              <div class="percentage">
                <i class="bi bi-person-standing"></i>
              </div>
            </div>
          </div>
        </div>

        <div class="profile">
          <div class="icon">

          </div>
          <div class="info">
            <p>Xin chào, <b>Linh</b></p>
            <small class="text-muted">Lễ tân</small>
          </div>
          <div class="profile-photo">
            <img src="../../../../assets/img/person.png">
          </div>
        </div>
      </div>
      <!-- End of Analyses -->

      <!-- New Users Section -->
      <!-- End of New Users Section -->

      <!-- Recent Orders Table -->
      <div class="recent-orders">
        <h2 class="text-center" style="font-family: Agbalumo; font-size: 29px;">Danh sách bệnh nhân</h2>
        <section class="table__header row">
          <div class="col-4">
            <button class="btn button-timekeeping" data-bs-toggle="modal" data-bs-target="#myBNModal"><i
              class="bi bi-plus-circle"></i> Thêm
              bệnh nhân</button>
          </div>
          <div class="input-group col-7">
            <input type="search search-custom" [(ngModel)]="search" (keyup.enter)="searchPatient()" placeholder="Tìm kiếm theo tên, mã bệnh nhân...">
          </div>
          <div class="export__file">
          </div>
        </section>
        <div class="table-container">
          <table>
            <thead class="sticky-thead">
            <tr>
              <th style="max-width: 50px;">Mã bệnh nhân</th>
              <th>Tên bệnh nhân</th>
              <th>SĐT</th>
              <th>Địa chỉ</th>
              <th>Thao tác</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let p of searchPatientsList" [ngClass]="{'new-record': p.isNew,'pulse': p.isPulsing}">
              <td>
                <!--HE153724-->{{p.patient_id}}
              </td>
              <td>
                <a  (click)="detail(p.patient_id)" >{{p.patient_name}}</a>
              </td>
              <td>
                {{p.phone_number}}
              </td>
              <td>
                {{p.address}}
              </td>
              <td>
                <button href="#" class="btn btn-danger float-right btn-rounded" style="padding: 2px 5px" data-bs-toggle="modal" data-bs-target="#delete_patient" (click)="openDeletePatient(p.patient_id,searchPatientsList)"><i class="bi bi-trash"></i></button>
              </td>
            </tr>

            </tbody>
          </table>

        </div>
        <div class="row mt-5" style="float:right;">
          <ngb-pagination [collectionSize]="pagingSearch.total" [(page)]="pagingSearch.paging" [boundaryLinks]="true"  (pageChange)="pageChanged($event)"></ngb-pagination>
        </div>
      </div>
      <!-- End of Recent Orders -->

    </main>
    <!-- End of Main Content -->


  </div>

</div>
<app-popup-add-patient [searchPatientsList] = "searchPatientsList"></app-popup-add-patient>
<app-popup-delete-patient [id]="[id]" [patientList] = "searchPatientsList"></app-popup-delete-patient>
