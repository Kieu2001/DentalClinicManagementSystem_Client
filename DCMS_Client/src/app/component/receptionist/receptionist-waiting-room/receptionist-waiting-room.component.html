<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Agbalumo&display=swap" rel="stylesheet">

<div class="web-wrapper">
  <div class="container-custom">
    <!-- Sidebar Section -->
    <aside>

      <div class="sidebar">
        <div class="toggle">
          <div class="logo">
            <img
              src="https://fiverr-res.cloudinary.com/images/t_main1,q_auto,f_auto,q_auto,f_auto/gigs/163864132/original/92c0b38c480b786aa8ee12c771b842986302bbed/design-unique-dental-medical-health-hospital-and-clinic-logo.png">
            <p><span class="danger">Nguyen Tran</span> Clinic</p>
          </div>
          <div class="close" id="close-btn">
            <span class="material-icons-sharp">
              close
            </span>
          </div>
        </div>
        <a routerLink="/letan/lich-hen">
          <span class="material-icons-sharp">
            dashboard
          </span>
          <h3>Lịch hẹn</h3>
        </a>
        <a routerLink="/letan/phong-cho"  class="active">
          <span class="material-icons-sharp">
            person_outline
          </span>
          <h3>Phòng chờ</h3>
        </a>
        <a routerLink="/benhnhan/danhsach">
          <span class="material-icons-sharp">
            receipt_long
          </span>
          <h3>Bệnh nhân</h3>
        </a>
        <a routerLink="/letan/cham-cong">
          <span class="material-icons-sharp">
            insights
          </span>
          <h3>Chấm công</h3>
        </a>
        <a (click)="signOut()" style="cursor:pointer;">
          <span class="material-icons-sharp">
            logout
          </span>
          <h3>Logout</h3>
        </a>
      </div>
    </aside>
    <!-- End of Sidebar Section -->

    <!-- Main Content -->
    <main>
      <!-- Analyses -->
      <div class="analyse">
        <div class="sales">
          <div class="status">
            <div class="info">
              <h3>Lịch hẹn</h3>
              <h1 class="text-center">02</h1>
            </div>
            <div class="progresss">
              <svg>
                <circle cx="38" cy="38" r="36"></circle>
              </svg>
              <div class="percentage">
                <i class="bi bi-calendar3"></i>
              </div>
            </div>
          </div>
        </div>
        <div class="visits">
          <div class="status">
            <div class="info">
              <h3>Phòng chờ</h3>
              <h1 class="text-center">24</h1>
            </div>
            <div class="progresss">
              <svg>
                <circle cx="38" cy="38" r="36"></circle>
              </svg>
              <div class="percentage">
                <i class="bi bi-houses"></i>
              </div>
            </div>
          </div>
        </div>
        <div class="searches">
          <div class="status">
            <div class="info">
              <h3>Bệnh nhân</h3>
              <h1 class="text-center">23</h1>
            </div>
            <div class="progresss">
              <svg>
                <circle cx="38" cy="38" r="36"></circle>
              </svg>
              <div class="percentage">
                <i class="bi bi-person-standing"></i>
              </div>
            </div>
          </div>
        </div>

        <div class="profile">
          <div class="icon">

          </div>
          <div class="info">
            <p>Xin chào, <b>Linh</b></p>
            <small class="text-muted">Lễ tân</small>
          </div>
          <div class="profile-photo">
            <img src="../../../../assets/img/person.png">
          </div>
        </div>
      </div>
      <!-- End of Analyses -->

      <!-- New Users Section -->
      <!-- End of New Users Section -->

      <!-- Recent Orders Table -->
      <div class="recent-orders">
        <!-- <section class="table__header">
          <h1></h1>
          <div class="input-group">
            <input type="search search-custom" placeholder="Tìm kiếm theo tên, mã bệnh nhân...">
          </div>
          <div class="export__file">
          </div>
        </section> -->
        <h2 class="text-center" style="font-family: Agbalumo; font-size: 29px;">Phòng chờ</h2>
        <div class="row mt-5 mb-5">
          <div class="col-6">
            <button class="btn button-timekeeping" style="margin-right: 30px;" data-bs-toggle="modal"
              data-bs-target="#wrModal"><i class="bi bi-plus-circle"></i>
              Thêm hàng chờ</button>
            <button class="btn button-timekeeping" data-bs-toggle="modal" data-bs-target="#myModal"><i
                class="bi bi-plus-circle"></i> Thêm
              bệnh nhân</button>
          </div>
          <div class="col-6">
            <select class="form-select input-custom float-end" aria-label="Default select example"
              [(ngModel)]="procedure" (change)="filterProcedure()">
              <option selected value="0">Tất cả loại điều trị</option>
              <option value="1">Cạo vôi răng</option>
              <option value="2">Niềng răng</option>
              <option value="3">Nhổ răng</option>
            </select>
          </div>
        </div>
        <div class="table-container">
          <table>
            <thead class="sticky-thead">
            <tr>
              <th>STT</th>
              <th>Mã bệnh nhân</th>
              <th>Tên bệnh nhân</th>
              <th>Lý do khám</th>
              <th>Loại điều trị</th>
              <th>Trạng thái</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let wtr of filteredWaitingRoomData; let i = index">
              <td>{{ i + 1 }}</td>
              <td>{{ wtr.patient_id }}</td>
              <td>{{ wtr.patient_name }}</td>
              <td>{{ wtr.reason }}</td>
              <td>{{ wtr.produce }}</td>
              <td>
                <select class="text-center" [(ngModel)]="wtr.status" (change)="onPutStatus(wtr, wtr.epoch)">
                  <option value="1">Đang chờ</option>
                  <option value="2">Đang khám</option>
                  <option value="3">Khám xong</option>
                  <option value="4">Xóa hàng chờ</option>
                </select>
              </td>
            </tr>
            </tbody>
          </table>
        </div>

      </div>
      <!-- End of Recent Orders -->

    </main>
    <!-- End of Main Content -->

  </div>

</div>


<!--Add Patient Modal -->
<div class="modal" id="myModal">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header color-main">
        <h4 class="modal-title text-center w-100">Thêm bệnh nhân</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <div class="modal-body">
          <div class="row">
            <div class="col-md-3">
              <div class="image-container">

              </div>

            </div>

            <div class="col-md-6">
              <div class="form-group">
                <label for="patientID">Mã bệnh nhân:</label>
                <input type="text" class="form-control date-input-custom" id="patientID" name="patientID">
              </div>
              <div class="form-group">
                <label for="creationDate">Ngày tạo:</label>
                <input type="text" class="form-control date-input-custom" id="creationDate" name="creationDate">
              </div>
              <div class="form-group">
                <label for="fullName">Họ và tên:</label>
                <input type="text" class="form-control date-input-custom" id="fullName" name="fullName">
              </div>
              <div class="form-group text-center pt-3">
                <label for="male">Male</label>
                <input type="radio" class="radio m-2" id="male" name="male">
                <label for="female">Female</label>
                <input type="radio" class="radio m-2" id="female" name="female">
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label for="email">Email</label>
                <input type="email" class="form-control date-input-custom" id="email" name="email">
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <label for="phone">Số điện thoại</label>
                <input type="tel" class="form-control date-input-custom" id="phone" name="phone">
              </div>
            </div>
          </div>

          <div class="row mt-3">
            <div class="col-md-12">
              <div class="form-group">
                <label for="address">Địa chỉ</label>
                <input type="text" class="form-control date-input-custom" id="address" name="address">
              </div>
            </div>
          </div>

          <div class="row mt-5">
            <div class="col-md-8">
              <div class="form-group">
                <textarea type="text" class="textarea date-input-custom w-100 h-300px" placeholder="Tiền sử bệnh án">
                </textarea>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <textarea type="text" class="textarea date-input-custom w-100 h-300px"
                  style="width: 100%; height: 300px;" placeholder="Ghi chú">
                </textarea>
              </div>
            </div>
          </div>

        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-cancel" data-bs-dismiss="modal">Hủy</button>
        <button type="button" class="btn btn-save" data-bs-dismiss="modal">Lưu</button>
      </div>

    </div>
  </div>
</div>



<app-add-waiting-room></app-add-waiting-room>
